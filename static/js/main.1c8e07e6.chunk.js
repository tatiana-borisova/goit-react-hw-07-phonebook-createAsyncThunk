(this["webpackJsonpgoit-react-hw-07-phonebook-create_async_thunk"]=this["webpackJsonpgoit-react-hw-07-phonebook-create_async_thunk"]||[]).push([[0],{11:function(t,e,n){t.exports={contact:"Contact_contact__1m2re",name:"Contact_name__2ZcKm",number:"Contact_number__2MvnN",button:"Contact_button__1wUL0"}},18:function(t,e,n){t.exports={filter:"Filter_filter__1E5tH",label:"Filter_label__3DcZT",input:"Filter_input__2DoVp"}},21:function(t,e,n){t.exports={title:"Section_title__2S6oE",section:"Section_section__Ap5Zy"}},22:function(t,e,n){t.exports={contacts:"ContactList_contacts__1Ny0J",contact:"ContactList_contact__3ZIyH"}},48:function(t,e,n){},7:function(t,e,n){t.exports={form:"Form_form__2TM1N",label:"Form_label__15SAE",input:"Form_input__2ESfd",button:"Form_button__243jh"}},77:function(t,e,n){"use strict";n.r(e);var c,a,r,o=n(0),s=n.n(o),u=n(15),i=n.n(u),b=n(5),l=n(17),j=n(2),d=n(33),f=n.n(d),O=n(8),m=n(3),h=n(4),p=Object(j.b)("contacts/fetchContactsRequest"),_=Object(j.b)("contacts/fetchContactsSuccess"),x=Object(j.b)("contacts/fetchContactsError"),v=Object(j.b)("contacts/onSubmitHandlerRequest"),C=Object(j.b)("contacts/onSubmitHandlerSuccess"),N=Object(j.b)("contacts/onSubmitHandlerError"),y=Object(j.b)("contacts/deleteContactRequest"),g=Object(j.b)("contacts/deleteContactSuccess"),S=Object(j.b)("contacts/deleteContactError"),w=Object(j.b)("contacts/changeFilter"),E=Object(j.c)([],(c={},Object(m.a)(c,_,(function(t,e){return e.payload})),Object(m.a)(c,C,(function(t,e){var n=e.payload;return[].concat(Object(l.a)(t),[n])})),Object(m.a)(c,g,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),k=Object(j.c)("",Object(m.a)({},w,(function(t,e){return e.payload}))),F=Object(j.c)(!1,(a={},Object(m.a)(a,p,(function(){return!0})),Object(m.a)(a,_,(function(){return!1})),Object(m.a)(a,x,(function(){return!1})),Object(m.a)(a,v,(function(){return!0})),Object(m.a)(a,C,(function(){return!1})),Object(m.a)(a,N,(function(){return!1})),Object(m.a)(a,y,(function(){return!0})),Object(m.a)(a,g,(function(){return!1})),Object(m.a)(a,S,(function(){return!1})),a)),L=Object(j.c)(null,(r={},Object(m.a)(r,x,(function(t){return console.log(t)})),Object(m.a)(r,N,(function(t){return console.log(t)})),Object(m.a)(r,S,(function(t){return console.log(t)})),r)),A=Object(h.b)({items:E,filter:k,loading:F,error:L}),Z=[].concat(Object(l.a)(Object(j.d)({serializableCheck:{ignoredActions:[O.a,O.f,O.b,O.c,O.d,O.e]}})),[f.a]),T=Object(j.a)({reducer:{contacts:A},middleware:Z,devTools:!1}),q=(n(47),n(48),n(35)),z=(n(49),function(t){return t.contacts.loading}),H=function(t){return t.contacts.filter},D=function(t){return t.contacts.items},J=function(t){var e=D(t),n=H(t).toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)||t.number.includes(n)}))},M=n(10),R=n.n(M);R.a.defaults.baseURL="https://61ba064d48df2f0017e5a8a4.mockapi.io/";var P=n(21),B=n.n(P),I=n(1);function U(t){var e=t.title,n=t.children;return Object(I.jsxs)("section",{className:B.a.section,children:[e&&Object(I.jsx)("h2",{className:B.a.title,children:e}),n]})}U.defaultProps={title:""};var K=n(23),V=n(34),$=n.n(V),G=n(7),Q=n.n(G),W=function(){var t=Object(o.useState)(""),e=Object(K.a)(t,2),n=e[0],c=e[1],a=Object(o.useState)(""),r=Object(K.a)(a,2),s=r[0],u=r[1],i=Object(b.c)(D),l=Object(b.b)(),j=function(t){var e=t.currentTarget,n=e.name,a=e.value;"name"===n&&c(a),"number"===n&&u(a)};return Object(I.jsxs)("form",{className:Q.a.form,onSubmit:function(t){t.preventDefault();var e,a=i.find((function(t){return t.name.toLowerCase()===n.toLowerCase()})),r=i.find((function(t){return t.number.toLowerCase()===s.toLowerCase()}));a||r?alert("".concat(a?n:""," ").concat(r?s:""," is already in contacts")):l((e={id:$.a.generate(),name:n,number:s},function(t){t(v()),R.a.post("/contacts",e).then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(N(e))}))})),c(""),u("")},children:[Object(I.jsxs)("label",{className:Q.a.label,children:["Name",Object(I.jsx)("input",{className:Q.a.input,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan, etc.",required:!0,placeholder:"Enter name",value:n,onChange:j})]}),Object(I.jsxs)("label",{className:Q.a.label,children:["Number",Object(I.jsx)("input",{className:Q.a.input,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter number",value:s,onChange:j})]}),Object(I.jsx)("button",{type:"submit",className:Q.a.button,children:"Add contact"})]})},X=n(18),Y=n.n(X),tt=function(){var t=Object(b.c)(H),e=Object(b.b)();return Object(I.jsx)("p",{className:Y.a.filter,children:Object(I.jsxs)("label",{className:Y.a.label,children:["Find contacts",Object(I.jsx)("input",{className:Y.a.input,type:"text",placeholder:"Enter name or number",value:t,onChange:function(t){return e(w(t.currentTarget.value))}})]})})},et=n(11),nt=n.n(et),ct=function(t){var e=t.data,n=e.name,c=e.number,a=e.id,r=Object(b.b)(),o=function(t){return r(function(t){return function(e){e(y()),R.a.delete("/contacts/".concat(t)).then((function(){return e(g(t))})).catch((function(t){return e(S(t))}))}}(t))};return Object(I.jsxs)("div",{className:nt.a.contact,children:[Object(I.jsxs)("span",{className:nt.a.name,children:[n,":"]}),Object(I.jsx)("a",{className:nt.a.number,href:"tel:".concat(c),children:c}),Object(I.jsx)("button",{className:nt.a.button,type:"button",onClick:function(){return o(a)},children:"Delete"})]})},at=n(22),rt=n.n(at),ot=function(){var t=Object(b.c)(J);return Object(I.jsx)("div",{className:rt.a.contacts,children:Object(I.jsx)("ul",{children:t.map((function(t){return Object(I.jsx)("li",{className:rt.a.contact,children:Object(I.jsx)(ct,{data:t})},t.id)}))})})},st=function(){var t=Object(b.b)(),e=Object(b.c)(z);return Object(o.useEffect)((function(){t((function(t){t(p()),R.a.get("/contacts").then((function(e){var n=e.data;return t(_(n))})).catch((function(e){return t(x(e))}))}))}),[t]),Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{title:"Phonebook",children:Object(I.jsx)(W,{})}),Object(I.jsxs)(U,{title:"Contacts",children:[Object(I.jsx)(tt,{}),Object(I.jsx)(ot,{}),e&&Object(I.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(I.jsx)(q.a,{color:"#7dcdff"})})]})]})};i.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(b.a,{store:T,children:Object(I.jsx)(st,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.1c8e07e6.chunk.js.map